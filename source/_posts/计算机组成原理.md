---
title: 计算机组成原理笔记
categories: learning-notes
excerpt: 如题，计算机组成原理笔记
hide: false
tag: markdown
---
{% note warning %}
{% endnote %} 
冯诺依曼计算机结构：存储器，控制器，运算器，输入设备，输出设备（I/O）
特点：存储程序，二进制

指令是计算机运行的最小功能单元

指令的功能：
- 数据运算
- 数据传输
- 输入/出
- 控制
- 其他（停机，开/关中断

计算机性能：
- 吞吐率：在单位时间内完成的工作量
- 响应时间：从作业提交开始到作业完成所花费的时间（包含CPU执行时间，磁盘访问，存储器访问，输入输出等所需时间）
- 计算机性能评价主要考虑CPU性能（与系统性能有别）

CPU性能：
- **时钟周期**：用于同步的时钟定时信号，即CPU主脉冲信号宽度
- **时钟频率**：CPU时钟周期的倒数
- **CPI**（cycles per instruction）：执行指令所需的时钟周期数
- 时钟周期，CPI，指令条数三个因素相互制约
- CPU执行时间=程序所含时钟周期数x时钟周期
- 程序总时钟周期数=CPIx程序所含指令条数
- 程序总时钟周期数=$\Sigma_{i=1}^{n}(CPI_{i}×C_{i})$

指令字长：指令字中二进制代码的位数

指令格式：
- 组成：操作码，操作数地址

字符集编码：
- ASCII：一个字节
- UNICODE：16位表示一个字符
- UTF8：变长字符编码

原码，反码，补码：
- 正数三者相同
- 负数
  - 原码：符号位||数的绝对值
  - 反码：符号位||绝对值按位取反
  - 补码：反码+1
- 原码和反码存在+0,-0，补码中只有一个0，补码比其余两者多一个数
```C++
#include<bits/stdc++.h> 
using namespace std;

int main()
{
  int a=INT_MAX;
  cout<<a<<endl;//      0111,1111,1111,1111,1111,1111,1111,1111，补码
  cout<<a+1<<endl;//    1000,0000,0000,0000,0000,0000,0000,0000，在补码中该数字表示-2147483648，不存在原码和反码
  cout<<-a<<endl;//     1000,0000,0000,0000,0000,0000,0000,0001
  for(int i=0;i<32;i++){
    if(i%4==0&&i!=0){
      cout<<' ';
    }
    cout<<(((-a)>>i)&1);
  }
}
```

补码符号位扩展：符号位进行扩展

大小端：
- 大端：数据低位存在内存的高位
- 小端：数据低位存在内存的低位
- 32位整数 $(12345678)_{16}$

|内存地址|4000|4001|4002|4003|
|--|--|--|--|--|
|大端存放数据|12|34|56|78|
|小端存放数据|78|56|34|12|


检错纠错码：
- 码距：任意两个合法码之间有几个二进制位不同
- 奇偶校验码：并行数据传输，可以检错
  - 偶校验：在k位码字中增加一位校验位，k+1位码字中取值为1的位数为偶数校验位为1
  - 奇校验：在k位码字中增加一位校验位，k+1位码字中取值为1的位数为奇数校验位为1
- 海明校验码：并行数据传输，可以检错纠错
  - 为k个数据位，设立r个校验位，使k+r位的码字能够发现并改正k+r中的任何一位，发现k+r中的任何两位同时出错（无法改正）
    - 满足 $2^{r}>=k+r+1$ 可以纠正一位
    - 满足 $2^{r-1}>=k+r$ 可以检错两位（包含纠错1位）
  - 实现：P表示校验码，D表示数据位，将P1,P2,P3...依次安排在2的幂次方位上，其余顺次放D1,D2,D3等，如
    ```
    P1 P2 D1 P3 D2 D3 P4
    1  2  3  4  5  6  
    3=1+2
    5=1+4
    6=2+4
    故P1对D1和D2校验；P2对D1和D3校验；P3对D2和D3校验
    编码时：
      P1=D1^D2, P2=D1^D3, P3=D2^D3
      P4是总校验位, P4=D1^D2^D3^P1^P2^P3
    译码时（给定海明码时计算以下内容）：
      S1=P1^D1^D2
      S2=P2^D3^D1
      S3=P3^D3^D2
      S4=P4^P3^P2^P1^D3^D2^D1
      若无错则S4 S3 S2 S1全为0
      1位错，    S4为1，其余不为000
      2位同时错, S4为0，其余不为000
    ```
- 循环冗余校验码：串行数据传输

运算结果的状态
- C：CF（进位标志）
- Z：ZF（零标志位）
- V：OF（overflow溢出标志位）
- S：SF（符号标志位）

浮点数
- 尾数
- 阶码（指数部分）
IEEE浮点数标准754
- 阶码使用移码
- 尾数使用原码